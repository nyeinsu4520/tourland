<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>TourLand</title>


  <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <script src="/bootstrap/js/bootstrap.bundle.js" type="text/javascript"></script>
    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Favicon -->
    <link rel="icon" href="img/tourland2.png" type="image/png" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css" />
    
    <!-- Bootstrap Bundle JS -->
    <script src="./bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />
    
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <style>
    #google_translate_element {
        display: none;
    }
    .card {
        position: relative;
    }
    .favorite-icon1 {
        position: absolute;
        top: 5px;
        right: 10px;
    }
    .star {
        font-size: 20px; /* Adjust size as needed */
        color: gold; /* Filled star color */
    }
    .star.empty {
        color: gray; /* Empty star color */
    }
    .bg-dark {
        background-color: rgba(0, 0, 0, 0.5) !important;
    }
    .text-light {
        color: white !important;
    }
    .btn-outline-light {
        border-color: white;
        color: white;
    }
    .btn-outline-light:hover {
        background: white;
        color: black;
    }
    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1;
    }
    .row {
        position: relative;
        z-index: 2;
    }
    .hero-section {
        position: relative;
        z-index: 3; /* Ensure it's above the overlay */
    }
    .limited-text {
    display: -webkit-box;
    -webkit-line-clamp: 3; /* Number of lines to show */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .card-body {
    height: 350px; /* Adjust as necessary */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .card-title {
    height: 50px; /* Adjust to fit the title text */
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Limit to 2 lines */
    -webkit-box-orient: vertical;
  }
</style>

</head>
<body>

	

    <!-- Header Fragment -->
   <div th:replace="@{Fragment/header}"></div>

   
  

    <!-- Search Section -->
<div class="container">
    <div class="row justify-content-center mt-4">
        <div class="col-md-6">
            <img th:src="@{image/img/travel.svg}" width="500px" class="img-fluid">
        </div>
        <div class="col-md-6 d-flex justify-content-center align-items-center">
            <div class="text-center">
                <h1 class="fw-bold">Where To?</h1>
                <div class="input-group mt-4">
                    <input type="text" class="form-control" id="searchInput" placeholder="Search location">
                    <div class="input-group-append">
                        <button id="searchButton" class="btn btn-primary" type="button">Search</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Package Carousel -->
    
    
	    
	    <!-- Package Carousel -->
    <div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center">
    <h3>Places You'll Love in Myanmar</h3>
    <a class="nav-link py-1 px-0 m-3 active" th:href="@{/PackagesView}" aria-expanded="false">See All</a>
  </div>
  <div id="cardCarousel1" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div id="firstFourCards" class="carousel-item active">
        <div class="container">
          <div class="row">
            <div th:each="package, iterStat : ${packagelist}" class="col-sm-6 col-md-4 col-lg-3 mb-4" th:if="${iterStat.index < 8}">
              <div class="card shadow-sm border-0 rounded">
                <div class="favorite-icon1">
                  <form th:action="@{/addToFavorites}" method="post">
                    <input type="hidden" name="packageId" th:value="${package.package_id}" />
                    <input type="hidden" name="type" value="Package" />
                    <input type="hidden" name="memberId" th:value="${memberId}" />
                    <button type="submit" class="btn btn-outline-dark">
                      <i class="fa-regular fa-heart" style="color:white"></i>
                    </button>
                  </form>
                </div>
                <a th:href="@{/package/view/{id} (id=${package.package_id})}">
                  <img width="260px" height="200px" th:src="@{uploads/packages/{id}/{imageName} (id=${package.package_id},imageName=${package.image})}" class="card-img-top" />
                </a>
                <div class="card-body">
                  <h6 class="text-muted">PRIVATE TOUR</h6>
                  <h5 class="card-title" th:text="${package.title}"></h5>
                  <p class="card-text limited-text" th:text="${package.description}"></p>
                  <p>Rating:
                    <span th:each="star : ${#numbers.sequence(1, 5)}"
                          th:classappend="${star <= averageRatings[package.package_id] ? 'star' : 'star empty'}">&#9733;</span>
                  </p>
                  <p style="font-size:15px"><span class="fw-bold">From MMK</span> <span class="fw-bold" th:text="${package.price}"></span> per person</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

		    <!-- Recommended Section -->
	    <div class="container">
	    <div class="d-flex justify-content-between align-items-center">
	        <h3> Places You'll Love in Myanmar</h3>
	        <a class="nav-link py-1 px-0 m-3 active" th:href="@{/TripPackagesView}" aria-expanded="false">See All</a>
	    </div>
	   
		</div>
	    <div id="cardCarousel2" class="carousel slide mt-3 pt-5" data-bs-ride="carousel">
	  <div class="carousel-inner">
	    <div id="firstFourCards" class="carousel-item active">
	      <div class="container">
	        <div class="row">
	       	
	          
	          <div th:each="tripPackage, iterStat : ${tripPackages}" class="col-sm-6 col-md-4 col-lg-3 mb-4" th:if="${iterStat.index < 8}">
	            
	            <div class="card">
	          <div class="favorite-icon1">
                  <form th:action="@{/addToFavorites}" method="post">
						<input type="hidden" name="tripPackageId" th:value="${tripPackage.id}" />
						<input type="hidden" name="type" value="Trip_Package" />
						<input type="hidden" name="memberId" th:value="${memberId}" />
						<button type="submit" class="btn btn-outline-dark">
						<i class="fa-regular fa-heart"></i> 
						</button>
					</form>
				</div>
				 <a th:href="@{/trippackage/view/{id} (id=${tripPackage.id})}">
	              <img width="260px" height="200px" th:src="@{|/uploads/trippackages/${tripPackage.id}/${tripPackage.image}|}" alt="Image" />
	             </a> <div class="card-body">
	              	<h6>PRIVATE TOUR</h6>
	                <h5 class="card-title" th:text="${tripPackage.description}"></h5>
	                <p class="card-text" th:text="${tripPackage.name}"></p>
	               
				  
					<p>Rating:
                                            <span th:each="star : ${#numbers.sequence(1, 5)}"
                                                  th:classappend="${star <= averageRatingsTripPackage[tripPackage.id] ? 'star' : 'star empty'}">&#9733;</span>
                                        </p>
	                
            		<p style="font-size:15px"><span class="fw-bold">From MMK</span> <span class="fw-bold" th:text="${tripPackage.price}"></span> per person</p>
	              </div>
	            </div>
	          
	        </div>
	        </div>
	      </div>
	    </div>

		</div>
	</div>
    
    
    
<!-- Hotel Carousel -->
<div class="container">
    <div class="d-flex justify-content-between align-items-center">
        <h3>You might like these</h3>
        <a class="nav-link py-1 px-0 m-3 active" th:href="@{/viewhotel}" aria-expanded="false">See All</a>
    </div>
    <p>More Packages to explore in Myanmar</p>
</div>
<div id="cardCarousel3" class="carousel slide mt-3 pt-5" data-bs-ride="carousel3">
    <div class="carousel-inner">
        <!-- First carousel item -->
        <div id="firstFourCards" class="carousel-item active">
            <div class="container">
                <div class="row">
                    <!-- Iterate over the first four cards -->
                    <div th:each="card, iterStat : ${cardlist}" class="col-sm-6 col-md-4 col-lg-3 mb-4" th:if="${iterStat.index < 4}">
                        <div class="card h-100 shadow-sm">
		                    <div class="favorite-icon1">
		                       <form th:action="@{/addToFavorites}" method="post">
						<input type="hidden" name="cardId" th:value="${card.hotel_id}" />
						<input type="hidden" name="type" value="Hotel" />
						<input type="hidden" name="memberId" th:value="${memberId}" />
						<button type="submit" class="btn btn-outline-warning">
						<i class="fa-regular fa-heart" style="color:white"></i> 
						</button>
					</form>
		                    </div>
                            <!-- Card content -->
                            <a th:href="@{/card/view/{id} (id=${card.hotel_id})}">
                            <img width="100%" height="180px" th:src="@{uploads/cards/{id}/{imageName} (id=${card.hotel_id},imageName=${card.image})}" class="card-img-top" />
                            </a>
                            <div class="card-body">
                                <h6 class="text-muted">HOTEL</h6>
                                <h5 class="card-title" th:text="${card.title}"></h5>
                                <p class="card-text limited-text" th:text="${card.description}"></p>
                               
					            <p>Rating:
                                            <span th:each="star : ${#numbers.sequence(1, 5)}"
                                                  th:classappend="${star <= averageRatingshotel[card.hotel_id] ? 'star' : 'star empty'}">&#9733;</span>
                                        </p>
                                <p class="price">
                                    <span class="fw-bold">From MMK</span>
                                    <span class="fw-bold" th:text="${#numbers.formatDecimal(card.roomTypes[0].price, 0, 0)}"></span>
                                    per night
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Second carousel item -->
        <div class="carousel-item">
            <div class="container">
                <div class="row">
                    <!-- Iterate over the next four cards -->
                    <div th:each="card, iterStat : ${cardlist}" class="col-sm-6 col-md-4 col-lg-3 mb-4" th:if="${iterStat.index >= 4 && iterStat.index < 8}">
                        <div class="card h-100 shadow-sm">
                            <!-- Card content -->
                            <div class="favorite-icon1">
		                       <form th:action="@{/addToFavorites}" method="post">
									<input type="hidden" name="cardId" th:value="${card.hotel_id}" />
									<input type="hidden" name="type" value="Hotel" />
									<input type="hidden" name="memberId" th:value="${memberId}" />
									<button type="submit" class="btn btn-outline-warning">
									<i class="fa-regular fa-heart" style="color:white"></i> 
									</button>
								</form>
		                    </div>
                            
                            <a th:href="@{/card/view/{id} (id=${card.hotel_id})}">
                            <img width="100%" height="180px" th:src="@{uploads/cards/{id}/{imageName} (id=${card.hotel_id},imageName=${card.image})}" class="card-img-top" />
                            </a>
                            <div class="card-body">
                                <h6 class="text-muted">HOTEL</h6>
                                <h5 class="card-title" th:text="${card.title}"></h5>
                                <p class="card-text limited-text" th:text="${card.description}"></p>
                                    <p>Rating:
                                            <span th:each="star : ${#numbers.sequence(1, 5)}"
                                                  th:classappend="${star <= averageRatingshotel[card.hotel_id] ? 'star' : 'star empty'}">&#9733;</span>
                                        </p>
                                <p class="price">
                                    <span class="fw-bold">From MMK</span>
                                    <span th:text="${#numbers.formatDecimal(card.roomTypes[0].price, 0, 0)}"></span>
                                    per night
                                </p>
                           </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Arrow buttons -->
    <button class="carousel-control-prev" type="button" data-bs-target="#cardCarousel3" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#cardCarousel3" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>


<!-- Hero Section -->
<div class="container-fluid px-4 py-5 hero-section" style="background-color: #ffffff; color: #00003f;">
    <div class="row align-items-center g-5 py-5">
        <div class="col-lg-6">
            <img src="./image/img/guidepost.png" class="d-block mx-lg-auto img-fluid" alt="Travel Image" width="250" height="100" >
        </div>
        <div class="col-lg-6">
            <h1 class="display-4 fw-bold mb-3">Discover Your Next Adventure</h1>
            <p class="lead mb-4">Explore the best travel destinations with our customized packages. Enjoy beautiful landscapes, luxurious hotels, and unforgettable experiences.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                <a th:href="@{/}"><button type="button" class="btn btn-primary btn-lg px-4 me-md-2">Get Started</button></a>
                <a th:href="@{/information}"><button type="button" class="btn btn-outline-dark btn-lg px-4">Learn More</button></a>
            </div>
        </div>
    </div>
</div>

    
    
 <!-- Restaurant Section -->
<div class="container">
    <div class="d-flex justify-content-between align-items-center">
        <h3>You might like these</h3>
        <a class="nav-link py-1 px-0 m-3 active" th:href="@{/viewrestaurant}" aria-expanded="false">See All</a>
    </div>
    <p>More Restaurants to explore in Myanmar</p>
</div>
<div id="cardCarousel4" class="carousel slide mt-3 pt-5" data-bs-ride="carousel">
    <div class="carousel-inner">
        <!-- First carousel item -->
        <div id="firstFourCards" class="carousel-item active">
            <div class="container">
                <div class="row">
                    <!-- Iterate over the first four restaurants -->
                    <div th:each="restaurant, iterStat : ${restaurantlist}" class="col-sm-6 col-md-4 col-lg-3 mb-4" th:if="${iterStat.index < 4}">
                        <div class="card h-100 shadow-sm">
                            <div class="favorite-icon1">
                                <form th:action="@{/addToFavorites}" method="post">
						<input type="hidden" name="restaurantId" th:value="${restaurant.restaurant_id}" />
						<input type="hidden" name="type" value="Restaurant" />
						<input type="hidden" name="memberId" th:value="${memberId}" />
						<button type="submit" class="btn btn-outline-warning">
						<i class="fa-regular fa-heart" style="color:black"></i> 
						</button>
					</form>
                            </div>
                            <!-- Card content -->
                            <a th:href="@{/restaurant/view/{id} (id=${restaurant.restaurant_id})}">
                                <img width="100%" height="180px" th:src="@{uploads/restaurants/{id}/{imageName} (id=${restaurant.restaurant_id},imageName=${restaurant.image})}" class="card-img-top" />
                            </a>
                            <div class="card-body">
                                <h6 class="text-muted">RESTAURANT</h6>
                                <h5 class="card-title" th:text="${restaurant.title}"></h5>
                                <p class="card-text" th:text="${restaurant.description}"></p>
                                    <p>Rating:
                                            <span th:each="star : ${#numbers.sequence(1, 5)}"
                                                  th:classappend="${star <= averageRatingshotel[restaurant.restaurant_id] ? 'star' : 'star empty'}">&#9733;</span>
                                        </p>
                                <!-- You can add additional fields or styles as needed -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Second carousel item -->
        <div class="carousel-item">
            <div class="container">
                <div class="row">
                    <!-- Iterate over the next four restaurants -->
                    <div th:each="restaurant, iterStat : ${restaurantlist}" class="col-sm-6 col-md-4 col-lg-3 mb-4" th:if="${iterStat.index >= 4 && iterStat.index < 8}">
                        <div class="card h-100 shadow-sm">
                        
                        <div class="favorite-icon1">
                                <form th:action="@{/addToFavorites}" method="post">
						<input type="hidden" name="restaurantId" th:value="${restaurant.restaurant_id}" />
						<input type="hidden" name="type" value="Restaurant" />
						<input type="hidden" name="memberId" th:value="${memberId}" />
						<button type="submit" class="btn btn-outline-warning">
						<i class="fa-regular fa-heart" style="color:black"></i> 
						</button>
					</form>
                            </div>
                            <!-- Card content -->
                            <a th:href="@{/restaurant/view/{id} (id=${restaurant.restaurant_id})}">
                                <img width="100%" height="180px" th:src="@{uploads/restaurants/{id}/{imageName} (id=${restaurant.restaurant_id},imageName=${restaurant.image})}" class="card-img-top" />
                            </a>
                            <div class="card-body">
                                <h6 class="text-muted">RESTAURANT</h6>
                                <h5 class="card-title" th:text="${restaurant.title}"></h5>
                                <p class="card-text" th:text="${restaurant.description}"></p>
                                    <p>Rating:
                                            <span th:each="star : ${#numbers.sequence(1, 5)}"
                                                  th:classappend="${star <= averageRatingshotel[restaurant.restaurant_id] ? 'star' : 'star empty'}">&#9733;</span>
                                        </p>
                                <!-- You can add additional fields or styles as needed -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Arrow buttons -->
    <button class="carousel-control-prev" type="button" data-bs-target="#cardCarousel4" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#cardCarousel4" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
    
    

	
	
 <script>
        $(document).ready(function(){
            $('#cardCarousel3').carousel();
            $('#cardCorousel4').carousel();
        });
        
    
        function addToFavorites(packageId, type, memberId) {
            const xhr = new XMLHttpRequest();
            xhr.open("POST", "/addToFavorites", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        // Handle success
                        alert("Added to favorites");
                    } else {
                        // Handle error and display more details
                        alert("Error adding to favorites: " + xhr.statusText + " (" + xhr.status + ")");
                    }
                }
            };
            xhr.send("packageId=" + packageId + "&type=" + type + "&memberId=" + memberId);
        }
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        var searchButton = document.getElementById('searchButton');
        var searchInput = document.getElementById('searchInput');

        if (searchButton && searchInput) {
            searchButton.addEventListener('click', function() {
                var searchValue = searchInput.value;
                window.location.href = '/search?query=' + encodeURIComponent(searchValue);
            });
        }
    });
</script>




    <!-- Footer Fragment -->
    <div th:replace="@{Fragment/footer}"></div>

</body>
</html>
